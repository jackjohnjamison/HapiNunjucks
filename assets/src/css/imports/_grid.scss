$maxColumns: 12;
$gridGap: 20px;

$spans: (
    row: 'grid-row',
    col: 'grid-column'
);

.grid {
    display: grid;
    grid-gap: $gridGap;
}

.grid--dense {
    grid-auto-flow: dense;
}

@mixin grid($media: '') {
    @for $i from 1 through $maxColumns {
        &--col-#{$i}#{$media} {
            grid-template-columns: repeat($i, 1fr);
        }
    }
}

@mixin grid-span($media: '') {
    @for $i from 1 through $maxColumns {
        @each $name, $span in $spans {
            &--#{$name}-#{$i}#{$media} {
                #{$span}: span $i;
            }
        }
    }
}

.grid {
    @include grid();
}
.grid-item {
    @include grid-span();
}

@include mobile {
    .grid {
        @include grid($media: '-mobile')
    }
    .grid-item {
        @include grid-span($media: '-mobile')
    }
}

@include tablet {
    .grid {
        @include grid($media: '-tablet')
    }
    .grid-item {
        @include grid-span($media: '-tablet')
    }
}

@include lap {
    .grid {
        @include grid($media: '-lap')
    }
    .grid-item {
        @include grid-span($media: '-lap')
    }
}

@include desk {
    .grid {
        @include grid($media: '-desk')
    }
    .grid-item {
        @include grid-span($media: '-desk')
    }
}